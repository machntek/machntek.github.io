# 스프링 부트는 무엇인가?
- 스프링 부트는 애플리케이션 서버도, 웹 서버도 아니다. 다양한 애플리케이션 및 웹서버와의 통합을 제공한다.
- 스프링 부트는 특정 프레임워크나 스펙을 구현하지 않는다.

## 마이크로서비스로 빠르게 프로토타입 구축
애플리케이션을 설정하는 단계는 다음과 같다.
1. 사용할 스프링 MVC, JPA, 하이버네이트의 버전을 결정하라
2. 모든 다른 레이어를 연결하는 스프링 콘텍스트를 설정하라.
3. 스프링 MVC(스프링 MVC 구성 포함)로 웹 레이어를 설정하라 (DispatcherServlet, 핸들러, 리졸버, 뷰 리졸버 등에 대한 빈 구성)
4. 데이터 레이어에서 하이버네이트를 설정하라 (SessionFactory, 데이터 소스 등에 대한 빈 구성)
5. 서로 다른 환경에 따라 애플리케이션 구성을 저장하는 방법을 결정하고 구현하라.
6. 단위 테스트를 어떻게 할 것인지 결정하라
7. 트랜잭션 전략을 결정하고 구현하라
8. 보안을 구현하는 방법을 결정하고 구현하라
9. 로깅 프레임워크를 설정하라
10. 프로덕션 환경에서 애플리케이션을 모니터링할 방법을 결정하고 구현하라.
11. 애플리케이션에 대한 통계를 제공하기 위해 메트릭스 관리 시스템을 결정하고 구현하라.
12. 애플리케이션을 웹 또는 애플리케이션 서버에 배포하는 방법을 결정하고 구현하라.

위의 단계 중 최소한 몇 가지를 완료해야 비즈니스 로직을 구축할 수 있다. 마이크로서비스는 빠른 시작을 원한다. 앞의 12단계를 모두 거치면 마이크로서비스를 쉽게 개발할 수 없다. 이것이 스프링 부트가 해결하고자 하는 문제다.

> 스프링부트를 사용하면 '바로 실행'할 수 있는 스탠드얼론, 프로덕션급 스프링 기반 애플리케이션을 쉽게 만들 수 있다. 우리는 스프링 플랫폼 및 서드파티 라이브러리에 대해 의견을 개진해 최소한의 관심으로 시작할 수 있다. 대부분의 스프링 부트 애플리케이션은 스프링 구성이 거의 필요하지 않다.

스프링부트는 개발자가 마이크로서비스 뒤에 있는 비즈니스 로직에 집중할 수 있게 해준다.

## 기본 목표
- 스프링-기반 프로젝트를 신속하게 구축
- 일반적인 사용법에 따라 기본적인 가정을 만든다. 기본값과의 차이를 처리하는 구성 옵션을 제공한다.
- 다양한 비기능적인 특징을 제공한다.
- 코드 생성을 사용하지 말고, 많은 XML 구성을 피하라

## 비기능적인 특징
- 다양한 프레임워크, 서버 및 스펙의 버전 관리 및 설정에 대한 기본 처리
- 애플리케이션 보안을 위한 기본 옵션
- 확장 가능성이 있는 기본 애플리케이션 매트릭스
- 상태 확인을 사용한 기본 애플리케이션 모니터링
- 외부화된 설정을 위한 여러 옵션

# 스프링 부트 Hello World
메이븐 사용하여 의존성 관리한다. 스프링부트 애플리케이션으로 시작하는 과정은 다음과 같다.
1. pom.xml 파일에서 spring-boot-starter-parent를 설정하라
2. 필요한 스타터 프로젝트로 pom.xml 파일을 구성하라
3. 애플리케이션을 실행하려면 spring-boot-maven-plugin을 설정하라
4. 첫 번째 스프링 부트 실행 클래스를 만들어라.

## spring-boot-starter-parent 구성
spring-boot-starter-parent를 가진 간단한 pom.xml 구성하자.
```xml
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
     http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.mastering.spring</groupId>
	<artifactId>springboot-example-ch5</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>First Spring Boot Example</name>
	<packaging>war</packaging>
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>2.0.0.M1</version>
	</parent>
	<properties>
		<java.version>1.8</java.version>
	</properties>
	<repositories>
		<repository>
			<id>spring-milestones</id>
			<name>Spring Milestones</name>
			<url>https://repo.spring.io/milestone</url>
			<snapshots>
				<enabled>false</enabled>
			</snapshots>
		</repository>
	</repositories>
    <pluginRepositories>
		<pluginRepository>
			<id>spring-milestones</id>
			<name>Spring Milestones</name>
			<url>https://repo.spring.io/milestone</url>
			<snapshots>
				<enabled>false</enabled>
			</snapshots>
		</pluginRepository>
	</pluginRepositories>
</project>
```
왜 우리는 spring-boot-starter-parent가 필요할까?
spring-boot-starter-parent 의존성은 사용할 자바 기본버전, 스프링 부트가 사용하는 의존성의 기본 버전 및 메이븐 플러그인의 기본 설정을 포함한다.
> spring-boot-starter-parent 의존성은 스프링 부트-기반 애플리케이션에 대한 의존성 및 플러그인 관리를 제공하는 부모 POM이다.

## spring-boot-starter-parent
spring-boot-starter-parent 의존성은 POM의 상단에 정의된 spring-boot-dependencies를 상속받는다. 다음 코드 단락은 spring-boot-starter-parent에서 추출한 내용이다.
```xml
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-dependencies</artifactId>
		<version>2.0.0.M1</version>
        <relativePath>../../spring-boot-dependencies</relativePath>
	</parent>
```
spring-boot-dependencies는 스프링 부트가 사용하는 모든 의존성에 대한 기본 의존성 관리를 제공한다. 다음은 spring-boot-dependencies에서 설정되는 다양한 의존성의 서로 다른 버전을 보여준다.
```xml
<activemq.version>5.15.3</activemq.version>
<antlr2.version>2.7.7</antlr2.version>
<appengine-sdk.version>1.9.62</appengine-sdk.version>
<artemis.version>2.4.0</artemis.version>
<aspectj.version>1.8.13</aspectj.version>
<assertj.version>3.9.1</assertj.version>
<atomikos.version>4.0.6</atomikos.version>
<bitronix.version>2.1.4</bitronix.version>
...생략
```
의존성의 특정 버전을 덮어 쓰려면 애플리케이션의 pom.xml 파일에 적절한 이름을 가진 등록 정보를 제공해야 한다.
```xml
<properties>
    <mockito.version>1.10.20</mockito.version>
</properties>
```

스프링의 특정 버전과 호환되는 최신 스프링 세션 버전은 어떻게 찾을까? 일반적인 대답은 문서를 읽는 것이다. 그러나 스프링 부트를 사용하면 spring-boot-starter-parent로 쉽게 만들 수 있다. 새로운 스프링 버전으로 업그레이드하고 싶다면 스프링 버전에 대한 spring-boot-starter-parent 의존성을 찾아야 한다. spring-boot-starter-parent의 해당 특정 버전을 사용하기 위해 애플리케이션을 업그레이드하면 다른 모든 의존성이 새 스프링 버전과 호환되는 버전으로 업그레이드된다.

## 필요한 스타터 프로젝트를 사용해 pom.xml 구성
